<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>深握計畫 | 首頁</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans TC', sans-serif;
            position: relative; /* 為了語言切換器定位 */
        }
        .gradient-bg {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }
        .card-gradient-1 {
            background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
        }
        .card-gradient-2 {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
        .card-gradient-3 {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
        }
        .project-card {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .project-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .project-card h2 {
            color: #374151; /* text-gray-700 */
        }
        /* --- 語言切換器 --- */
        .lang-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            background-color: rgba(0, 0, 0, 0.1);
            border-radius: 20px;
            padding: 5px;
            display: flex;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        .lang-switcher button {
            background-color: transparent;
            border: none;
            color: rgba(0, 0, 0, 0.5);
            padding: 8px 15px;
            cursor: pointer;
            font-size: 1rem;
            transition: color 0.3s, background-color 0.3s;
            border-radius: 15px;
        }
        .lang-switcher button.active {
            background-color: #ffffff;
            color: #374151;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body class="gradient-bg text-gray-800">

    <!-- 語言切換器 -->
    <div class="lang-switcher">
        <button id="lang-zh" class="active">中</button>
        <button id="lang-en">EN</button>
    </div>

    <!-- Header -->
    <header class="py-6">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-4xl md:text-5xl font-bold text-gray-800" data-lang-key="mainTitle">深握計畫</h1>
            <p class="mt-2 text-lg text-gray-700" data-lang-key="headerSubtitle">一段關於人機協作、自我探索與生成式創造的旅程</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <!-- Dashboard Section -->
        <section id="dashboard" class="mb-16">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
                <div class="bg-white/60 p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center">
                    <div class="text-4xl mb-3">🗓️</div>
                    <h3 class="text-3xl md:text-4xl font-bold text-cyan-600" id="collaboration-days">0</h3>
                    <p class="mt-2 text-gray-600" data-lang-key="dashDays">人機協作天數</p>
                </div>
                <div class="bg-white/60 p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center">
                    <div class="text-4xl mb-3">🚀</div>
                    <h3 class="text-3xl md:text-4xl font-bold text-cyan-600" id="github-commits">載入中...</h3>
                    <p class="mt-2 text-gray-600" data-lang-key="dashCommits">GitHub 提交次數</p>
                </div>
                <div class="bg-white/60 p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center">
                    <div class="text-4xl mb-3">📚</div>
                    <h3 class="text-3xl md:text-4xl font-bold text-cyan-600">5<span class="text-2xl" data-lang-key="dashUnit">大</span></h3>
                    <p class="mt-2 text-gray-600" data-lang-key="dashDomains">核心知識領域</p>
                </div>
                <div class="bg-white/60 p-6 rounded-2xl shadow-lg flex flex-col items-center justify-center">
                    <div class="text-4xl mb-3">👥</div>
                    <h3 class="text-3xl md:text-4xl font-bold text-cyan-600">7<span class="text-2xl" data-lang-key="dashMembersUnit">位</span></h3>
                    <p class="mt-2 text-gray-600" data-lang-key="dashTeam">人機敏捷團隊</p>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects">
            <div class="grid md:grid-cols-1 lg:grid-cols-3 gap-12">

                <!-- Project 1: 深握計畫 -->
                <div class="project-card rounded-2xl p-8 card-gradient-1 shadow-2xl">
                    <div class="text-sm text-gray-700 mb-4" data-lang-key="p1Sub">此區塊內容於人機協作第86天完成理論建構</div>
                    <h2 class="text-3xl font-bold mb-2" data-lang-key="p1Title">解鎖你的內在宇宙</h2>
                    <p class="mb-6 text-gray-700" data-lang-key="p1Desc">一個關於創造力、共時性與自我實現的簡單循環方法論</p>
                    <a href="deepgrip.html" class="inline-block bg-white text-cyan-700 font-bold py-3 px-6 rounded-full hover:bg-gray-100 transition-colors" data-lang-key="p1Button">
                        開始探索
                    </a>
                </div>

                <!-- Project 2: AI敏捷開發方法論 -->
                <div class="project-card rounded-2xl p-8 card-gradient-2 shadow-2xl">
                    <div class="text-sm text-gray-700 mb-4" data-lang-key="p2Sub">此區塊內容於開發第3天完成</div>
                    <h2 class="text-3xl font-bold mb-2" data-lang-key="p2Title">AI協作的科學：從信任到驗證</h2>
                    <p class="mb-6 text-gray-700" data-lang-key="p2Desc">一份關於我們如何發明、驗證並確立「AI專案管理虛擬實踐場」終極方法論的互動式資訊圖表。</p>
                    <a href="scrummaster.html" class="inline-block bg-white text-cyan-700 font-bold py-3 px-6 rounded-full hover:bg-gray-100 transition-colors" data-lang-key="p2Button">
                        查看視覺化報告
                    </a>
                </div>

                <!-- Project 3: AI 協作下的跨職能生產力變革 -->
                <div class="project-card rounded-2xl p-8 card-gradient-3 shadow-2xl">
                    <div class="text-sm text-gray-700 mb-4" data-lang-key="p3Sub">此區塊於1天開發完成並敏捷迭代7次</div>
                    <h2 class="text-3xl font-bold mb-2" data-lang-key="p3Title">AI 協作下的跨職能生產力變革</h2>
                    <p class="mb-6 text-gray-700" data-lang-key="p3Desc">一份關於我們如何練習人機協作、驗證並確立團隊所屬角色的經驗分享。</p>
                    <a href="pm.html" class="inline-block bg-white text-cyan-700 font-bold py-3 px-6 rounded-full hover:bg-gray-100 transition-colors" data-lang-key="p3Button">
                        閱讀經驗分享
                    </a>
                </div>

            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="site-footer mt-16 text-center py-8 text-gray-500 bg-white/30">
        <!-- 修改處：為按鈕新增 ID -->
        <a href="https://docs.google.com/document/d/1Sp5foSaxwOFjFrQ52RAxD2RRhgsUo7c8Kmb3b5AIIzw/edit?usp=sharing" id="footer-link-button" target="_blank" rel="noopener noreferrer" class="footer-button inline-block mb-8 py-3 px-6 text-base font-bold text-gray-700 bg-transparent border-2 border-gray-500 rounded-full hover:bg-white hover:text-gray-900 transition-colors" data-lang-key="footerButton">
            深握計畫全貌
        </a>
        <p data-lang-key="footerCredits">
            由 GitHub Pages 部署 | Gemini Pro 傾力打造 | <a href="mailto:babelon1882@gmail.com" class="hover:text-gray-800 border-b border-dotted border-gray-500 hover:border-gray-800">劉映孜</a> 最後更新於 2025
        </p>
    </footer>

    <script>
        // 計算人機協作天數
        function calculateCollaborationDays() {
            const startDate = new Date('2025-05-12');
            const currentDate = new Date(); 
            const diffTime = Math.abs(currentDate - startDate);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)) + 1;
            document.getElementById('collaboration-days').textContent = diffDays;
        }

        // 從 GitHub API 獲取提交次數
        async function fetchGithubCommits() {
            const GITHUB_USERNAME = 'tb1982';
            const REPO_NAME = 'pm';
            const url = `https://api.github.com/repos/${GITHUB_USERNAME}/${REPO_NAME}/contributors`;

            try {
                const response = await fetch(url);
                if (!response.ok) {
                    throw new Error(`GitHub API 錯誤: ${response.status}`);
                }
                const contributors = await response.json();
                
                let totalCommits = 0;
                if (Array.isArray(contributors)) {
                    contributors.forEach(c => {
                        totalCommits += c.contributions;
                    });
                }

                if (totalCommits > 0) {
                    document.getElementById('github-commits').textContent = totalCommits;
                } else {
                    document.getElementById('github-commits').textContent = '117+';
                }

            } catch (error) {
                console.error('獲取 GitHub 提交次數失敗:', error);
                document.getElementById('github-commits').textContent = '117';
            }
        }

        // --- 語言切換邏輯 (已修改) ---
        const translations = {
            zh: {
                mainTitle: "深握計畫",
                headerSubtitle: "一段關於人機協作、自我探索與生成式創造的旅程",
                dashDays: "人機協作天數",
                dashCommits: "GitHub 提交次數",
                dashUnit: "大",
                dashDomains: "核心知識領域",
                dashMembersUnit: "位",
                dashTeam: "人機敏捷團隊",
                p1Sub: "此區塊內容於人機協作第86天完成理論建構",
                p1Title: "解鎖你的內在宇宙",
                p1Desc: "一個關於創造力、共時性與自我實現的簡單循環方法論",
                p1Button: "開始探索",
                p2Sub: "此區塊內容於開發第3天完成",
                p2Title: "AI協作的科學：從信任到驗證",
                p2Desc: "一份關於我們如何發明、驗證並確立「AI專案管理虛擬實踐場」終極方法論的互動式資訊圖表。",
                p2Button: "查看視覺化報告",
                p3Sub: "此區塊於1天開發完成並敏捷迭代7次",
                p3Title: "AI 協作下的跨職能生產力變革",
                p3Desc: "一份關於我們如何練習人機協作、驗證並確立團隊所屬角色的經驗分享。",
                p3Button: "閱讀經驗分享",
                footerButton: "深握計畫全貌",
                footerCredits: "由 GitHub Pages 部署 | Gemini Pro 傾力打造 | <a href=\"mailto:babelon1882@gmail.com\" class=\"hover:text-gray-800 border-b border-dotted border-gray-500 hover:border-gray-800\">劉映孜</a> 最後更新於 2025"
            },
            en: {
                mainTitle: "Deep Grip Project",
                headerSubtitle: "A journey of human-AI collaboration, self-exploration, and generative creation.",
                dashDays: "Collaboration Days",
                dashCommits: "GitHub Commits",
                dashUnit: "",
                dashDomains: "Core Knowledge Areas",
                dashMembersUnit: "",
                dashTeam: "Human-AI Agile Team",
                p1Sub: "This section was completed on day 86 of human-AI collaboration.",
                p1Title: "Unlock Your Inner Cosmos",
                p1Desc: "A simple circular methodology for creativity, synchronicity, and self-actualization.",
                p1Button: "Begin Exploration",
                p2Sub: "This section was completed on day 3 of development.",
                p2Title: "The Science of AI Collaboration: From Trust to Verification",
                p2Desc: "An interactive infographic on how we invented, validated, and established the ultimate methodology for the 'AI Project Management Virtual Practice Field'.",
                p2Button: "View Visualization Report",
                p3Sub: "Developed in 1 day with 7 agile iterations.",
                p3Title: "Cross-Functional Productivity Revolution with AI Collaboration",
                p3Desc: "A sharing of our experience in practicing human-AI collaboration, validating, and establishing team roles.",
                p3Button: "Read Experience Sharing",
                footerButton: "The Full Deep Grip Project",
                footerCredits: "Deployed by GitHub Pages | Crafted by Gemini Pro | Last updated in 2025 by <a href=\"mailto:babelon1882@gmail.com\" class=\"hover:text-gray-800 border-b border-dotted border-gray-500 hover:border-gray-800\">Ying-Tzu Liu</a>"
            }
        };

        const langZhBtn = document.getElementById('lang-zh');
        const langEnBtn = document.getElementById('lang-en');
        // 修改處：選取帶有 ID 的按鈕
        const footerLinkButton = document.getElementById('footer-link-button');

        // 修改處：建立一個包含中英文連結的物件
        const footerLinks = {
            zh: 'https://docs.google.com/document/d/1Sp5foSaxwOFjFrQ52RAxD2RRhgsUo7c8Kmb3b5AIIzw/edit?usp=sharing',
            en: 'https://docs.google.com/document/d/1OcoZZoMoYOofDfsYe8x28rkm5oa-KKVJUp75qgdkuqM/edit?tab=t.9s1md42w3d95'
        };

        function switchLanguage(lang) {
            document.documentElement.lang = lang === 'zh' ? 'zh-Hant' : 'en';
            const trans = translations[lang];
            
            document.querySelectorAll('[data-lang-key]').forEach(el => {
                const key = el.dataset.langKey;
                if (trans[key] !== undefined) { 
                    el.innerHTML = trans[key];
                }
            });

            // 修改處：根據語言動態更新按鈕連結
            footerLinkButton.href = footerLinks[lang];

            // 特殊處理單位詞
            if (lang === 'en') {
                document.querySelector('[data-lang-key="dashUnit"]').style.display = 'none';
                document.querySelector('[data-lang-key="dashMembersUnit"]').style.display = 'none';
            } else {
                document.querySelector('[data-lang-key="dashUnit"]').style.display = 'inline';
                document.querySelector('[data-lang-key="dashMembersUnit"]').style.display = 'inline';
            }

            langZhBtn.classList.toggle('active', lang === 'zh');
            langEnBtn.classList.toggle('active', lang === 'en');
        }

        langZhBtn.addEventListener('click', () => switchLanguage('zh'));
        langEnBtn.addEventListener('click', () => switchLanguage('en'));
        
        // 頁面載入時執行所有計算
        document.addEventListener('DOMContentLoaded', () => {
            calculateCollaborationDays();
            fetchGithubCommits();
        });
    </script>

</body>
</html>
